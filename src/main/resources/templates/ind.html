<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        /* Убираем маркеры у списка и элементов списка */
        ul, li {
            list-style: none;
        }

        /* Стили для категорий */
        .category {
            margin-left: 20px;
            display: none;
        }

        /* Стили для кнопки "открыть/закрыть" */
        .toggle-button::before {
            content: " + "; /* Символ "Вправо" для закрытой категории */
            cursor: pointer;
        }

        .toggle-button.open::before {
            content: " - "; /* Символ "Вниз" для открытой категории */
        }

        /* Стили для ссылок */
        .category-link {
            text-decoration: none;
            color: #000; /* Цвет текста ссылки */
            cursor: pointer;
        }

        /* Стили для выделения при наведении */
        .category-link:hover {
            background-color: #e0e0e0; /* Цвет фона при наведении */
            border-radius: 5px; /* Скругление углов */
        }
    </style>
</head>
<body>
<div id="category-tree">
    <!-- Здесь будет дерево категорий -->
</div>
<script>
    const categories = [{"id":27,"active":true,"name":"Дисплеи","parentId":0,"rootCategory":false,"description":"Дисплеи","metaTitle":"Дисплеи","metaDescription":"Дисплеи","metaKeywords":"Дисплеи","humanReadableUrl":"Дисплеи","urlImage":"Дисплеи","shopName":null},{"id":28,"active":true,"name":"Модули","parentId":0,"rootCategory":false,"description":"Модули","metaTitle":"Модули","metaDescription":"Модули","metaKeywords":"Модули","humanReadableUrl":"Модули","urlImage":"Модули","shopName":null},{"id":29,"active":true,"name":"Дисплеи Xiaomi","parentId":27,"rootCategory":false,"description":"Дисплеи Xiaomi","metaTitle":"Дисплеи Xiaomi","metaDescription":"Дисплеи Xiaomi","metaKeywords":"Дисплеи Xiaomi","humanReadableUrl":"Дисплеи Xiaomi","urlImage":"Дисплеи Xiaomi","shopName":null},{"id":30,"active":true,"name":"Модули Xiaomi","parentId":28,"rootCategory":false,"description":"Модули Xiaomi","metaTitle":"Модули Xiaomi","metaDescription":"Модули Xiaomi","metaKeywords":"Модули Xiaomi","humanReadableUrl":"Модули Xiaomi","urlImage":"Модули Xiaomi","shopName":null},{"id":31,"active":true,"name":"Дисплеи Samsung","parentId":27,"rootCategory":false,"description":"Дисплеи Samsung","metaTitle":"Дисплеи Samsung","metaDescription":"Дисплеи Samsung","metaKeywords":"Дисплеи Samsung","humanReadableUrl":"Дисплеи Samsung","urlImage":"Дисплеи Samsung","shopName":null},{"id":32,"active":true,"name":"Модули Samsung","parentId":28,"rootCategory":false,"description":"Модули Samsung","metaTitle":"Модули Samsung","metaDescription":"Модули Samsung","metaKeywords":"Модули Samsung","humanReadableUrl":"Модули Samsung","urlImage":"Модули Samsung","shopName":null},{"id":33,"active":true,"name":"Дисплей Xiaomi Redmi 10","parentId":29,"rootCategory":false,"description":"Дисплей Xiaomi Redmi 10","metaTitle":"Дисплей Xiaomi Redmi 10","metaDescription":"Дисплей Xiaomi Redmi 10","metaKeywords":"Дисплей Xiaomi Redmi 10","humanReadableUrl":"Дисплей Xiaomi Redmi 10","urlImage":"Дисплей Xiaomi Redmi 10","shopName":null},{"id":34,"active":true,"name":"Дисплей Xiaomi Redmi 12","parentId":29,"rootCategory":false,"description":"Дисплей Xiaomi Redmi 12","metaTitle":"Дисплей Xiaomi Redmi 12","metaDescription":"Дисплей Xiaomi Redmi 12","metaKeywords":"Дисплей Xiaomi Redmi 12","humanReadableUrl":"Дисплей Xiaomi Redmi 12","urlImage":"Дисплей Xiaomi Redmi 12","shopName":null},{"id":35,"active":true,"name":"Модуль Xiaomi Redmi 7","parentId":30,"rootCategory":false,"description":"Модуль Xiaomi Redmi 7","metaTitle":"Модуль Xiaomi Redmi 7","metaDescription":"Модуль Xiaomi Redmi 7","metaKeywords":"Модуль Xiaomi Redmi 7","humanReadableUrl":"Модуль Xiaomi Redmi 7","urlImage":"Модуль Xiaomi Redmi 7","shopName":null},{"id":36,"active":true,"name":"Модуль Xiaomi Redmi 8","parentId":30,"rootCategory":false,"description":"Модуль Xiaomi Redmi 8","metaTitle":"Модуль Xiaomi Redmi 8","metaDescription":"Модуль Xiaomi Redmi 8","metaKeywords":"Модуль Xiaomi Redmi 8","humanReadableUrl":"Модуль Xiaomi Redmi 8","urlImage":"Модуль Xiaomi Redmi 8","shopName":null},{"id":37,"active":true,"name":"Дисплей Samsung Galaxy S20","parentId":31,"rootCategory":false,"description":"Дисплей Samsung Galaxy S20","metaTitle":"Дисплей Samsung Galaxy S20","metaDescription":"Дисплей Samsung Galaxy S20","metaKeywords":"Дисплей Samsung Galaxy S20","humanReadableUrl":"Дисплей Samsung Galaxy S20","urlImage":"Дисплей Samsung Galaxy S20","shopName":null},{"id":38,"active":true,"name":"Дисплей Samsung Galaxy S21","parentId":31,"rootCategory":false,"description":"Дисплей Samsung Galaxy S21","metaTitle":"Дисплей Samsung Galaxy S21","metaDescription":"Дисплей Samsung Galaxy S21","metaKeywords":"Дисплей Samsung Galaxy S21","humanReadableUrl":"Дисплей Samsung Galaxy S21","urlImage":"Дисплей Samsung Galaxy S21","shopName":null},{"id":39,"active":true,"name":"Модуль Samsung Galaxy S25","parentId":32,"rootCategory":false,"description":"Модуль Samsung Galaxy S25","metaTitle":"Модуль Samsung Galaxy S25","metaDescription":"Модуль Samsung Galaxy S25","metaKeywords":"Модуль Samsung Galaxy S25","humanReadableUrl":"Модуль Samsung Galaxy S25","urlImage":"Модуль Samsung Galaxy S25","shopName":null},{"id":40,"active":true,"name":"Модуль Samsung Galaxy S30","parentId":32,"rootCategory":false,"description":"Модуль Samsung Galaxy S30","metaTitle":"Модуль Samsung Galaxy S30","metaDescription":"Модуль Samsung Galaxy S30","metaKeywords":"Модуль Samsung Galaxy S30","humanReadableUrl":"Модуль Samsung Galaxy S30","urlImage":"Модуль Samsung Galaxy S30","shopName":null},{"id":41,"active":true,"name":"123","parentId":37,"rootCategory":false,"description":"1","metaTitle":"1","metaDescription":"1","metaKeywords":"1","humanReadableUrl":"1","urlImage":"1","shopName":null},{"id":42,"active":true,"name":"324","parentId":41,"rootCategory":false,"description":"234","metaTitle":"234","metaDescription":"234","metaKeywords":"234","humanReadableUrl":"234","urlImage":"234","shopName":null},{"id":43,"active":true,"name":"к43","parentId":42,"rootCategory":false,"description":"к43","metaTitle":"4к3","metaDescription":"4к","metaKeywords":"4к3","humanReadableUrl":"34к","urlImage":"4к3","shopName":null},{"id":44,"active":true,"name":"234у","parentId":38,"rootCategory":false,"description":"32","metaTitle":"32","metaDescription":"32","metaKeywords":"234","humanReadableUrl":"324","urlImage":"234","shopName":null}];

    const categoryTree = document.getElementById("category-tree");

    function createCategoryList(parentId) {
        const ul = document.createElement("ul");
        ul.style.display = parentId === 0 ? "block" : "none"; // Изменение стиля отображения в зависимости от parentId
        categories.forEach((category, index, array) => {
            if (category.parentId === parentId) {
                const li = document.createElement("li");
                const link = document.createElement("a");
                link.href = `#category-${category.id}`; // Установка href для отправки запроса на сервер (замените на ваш URL)
                link.textContent = category.name;
                link.classList.add("category-link"); // Добавление класса для стилей ссылки
                li.appendChild(link);

                const childCategories = createCategoryList(category.id);
                if (childCategories.childNodes.length > 0) {
                    const toggleButton = document.createElement("span");
                    toggleButton.className = "toggle-button";
                    toggleButton.addEventListener("click", () => {
                        childCategories.style.display = childCategories.style.display === "none" ? "block" : "none";
                        toggleButton.classList.toggle("open");
                    });
                    li.insertBefore(toggleButton, link);
                    li.appendChild(childCategories);
                } else {
                    link.style.marginLeft = "20px"; // Добавление отступа для последней вложенной категории
                }
                ul.appendChild(li);

                // Добавление обработчика события для клика по ссылке
                link.addEventListener("click", (event) => {
                    event.preventDefault();
                    // Вместо alert можно добавить ваш код для отправки запроса на сервер с ID категории
                    console.log(`Отправить запрос на сервер с ID категории: ${category.id}`);
                });
            }
        });
        return ul;
    }

    categoryTree.appendChild(createCategoryList(0));
</script>
</body>
</html>
